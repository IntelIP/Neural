---
title: 'NeuralSDK'
description: 'Main SDK class for market operations and trading'
---

## Overview

The `NeuralSDK` class is the primary interface for interacting with prediction markets. It provides methods for market data retrieval, order placement, WebSocket streaming, and portfolio management.

## Constructor

<ParamField path="config" type="SDKConfig" required>
  Configuration object containing API credentials and settings
</ParamField>

<CodeGroup>

```python Python
from neural_sdk import NeuralSDK, SDKConfig

# Using config object
config = SDKConfig(
    api_key_id="your_key",
    api_secret="your_secret",
    environment="production"
)
sdk = NeuralSDK(config)

# Using environment variables (recommended)
sdk = NeuralSDK.from_env()
```

```javascript JavaScript
import { NeuralSDK, SDKConfig } from 'neural-sdk';

// Using config object
const config = new SDKConfig({
  apiKeyId: "your_key",
  apiSecret: "your_secret",
  environment: "production"
});
const sdk = new NeuralSDK(config);

// Using environment variables
const sdk = NeuralSDK.fromEnv();
```

</CodeGroup>

## Methods

### `create_websocket()`

Creates a WebSocket connection for real-time data streaming.

<ResponseField name="websocket" type="NeuralWebSocket">
  WebSocket client instance for streaming market data
</ResponseField>

<CodeGroup>

```python Example
websocket = sdk.create_websocket()

@websocket.on_market_data
async def handle_market(data):
    print(f"Market: {data.ticker}, Price: ${data.yes_price}")

await websocket.connect()
await websocket.subscribe_markets(['KXNFL*'])
```

</CodeGroup>

---

### `get_markets(params)`

Retrieves available markets with optional filtering.

<ParamField path="params" type="dict" optional>
  Filter parameters for market retrieval
  
  <Expandable title="parameters">
    <ParamField path="sport" type="string" optional>
      Filter by sport (e.g., "NFL", "NBA", "MLB")
    </ParamField>
    
    <ParamField path="status" type="string" optional>
      Market status filter
      - `"active"` - Currently trading
      - `"closed"` - Trading ended
      - `"settled"` - Results finalized
    </ParamField>
    
    <ParamField path="limit" type="int" optional default="100">
      Maximum number of markets to return
    </ParamField>
    
    <ParamField path="cursor" type="string" optional>
      Pagination cursor for next page
    </ParamField>
  </Expandable>
</ParamField>

<ResponseField name="markets" type="List[Market]">
  List of market objects
  
  <Expandable title="Market object">
    <ResponseField name="ticker" type="string">
      Unique market identifier
    </ResponseField>
    <ResponseField name="title" type="string">
      Human-readable market title
    </ResponseField>
    <ResponseField name="yes_price" type="float">
      Current YES price (0-1)
    </ResponseField>
    <ResponseField name="no_price" type="float">
      Current NO price (0-1)
    </ResponseField>
    <ResponseField name="volume" type="float">
      Total volume traded
    </ResponseField>
    <ResponseField name="open_interest" type="float">
      Current open interest
    </ResponseField>
    <ResponseField name="status" type="string">
      Market status
    </ResponseField>
  </Expandable>
</ResponseField>

<CodeGroup>

```python Example
# Get all NFL markets
nfl_markets = sdk.get_markets({"sport": "NFL", "status": "active"})

for market in nfl_markets:
    print(f"{market.ticker}: ${market.yes_price:.2f}")
```

</CodeGroup>

---

### `place_order(params)`

Places an order in a prediction market.

<ParamField path="params" type="dict" required>
  Order parameters
  
  <Expandable title="parameters">
    <ParamField path="ticker" type="string" required>
      Market ticker to trade
    </ParamField>
    
    <ParamField path="side" type="string" required>
      Order side: `"YES"` or `"NO"`
    </ParamField>
    
    <ParamField path="size" type="int" required>
      Number of contracts
    </ParamField>
    
    <ParamField path="price" type="float" optional>
      Limit price (0-1). If omitted, places market order
    </ParamField>
    
    <ParamField path="order_type" type="string" optional default="limit">
      Order type: `"limit"` or `"market"`
    </ParamField>
    
    <ParamField path="time_in_force" type="string" optional default="GTC">
      - `"GTC"` - Good till cancelled
      - `"IOC"` - Immediate or cancel
      - `"FOK"` - Fill or kill
    </ParamField>
  </Expandable>
</ParamField>

<ResponseField name="order" type="Order">
  Order confirmation object
  
  <Expandable title="Order object">
    <ResponseField name="order_id" type="string">
      Unique order identifier
    </ResponseField>
    <ResponseField name="status" type="string">
      Order status: `"pending"`, `"filled"`, `"cancelled"`
    </ResponseField>
    <ResponseField name="filled_size" type="int">
      Number of contracts filled
    </ResponseField>
    <ResponseField name="average_price" type="float">
      Average fill price
    </ResponseField>
  </Expandable>
</ResponseField>

<CodeGroup>

```python Example
# Place a limit order
order = sdk.place_order({
    "ticker": "KXNFLGAME-PHI-WIN",
    "side": "YES",
    "size": 100,
    "price": 0.45,
    "order_type": "limit"
})

print(f"Order {order.order_id} placed")
```

</CodeGroup>

---

### `get_portfolio()`

Retrieves current portfolio positions and balance.

<ResponseField name="portfolio" type="Portfolio">
  Portfolio information
  
  <Expandable title="Portfolio object">
    <ResponseField name="balance" type="float">
      Available cash balance
    </ResponseField>
    <ResponseField name="positions" type="List[Position]">
      List of open positions
      
      <Expandable title="Position object">
        <ResponseField name="ticker" type="string">
          Market ticker
        </ResponseField>
        <ResponseField name="side" type="string">
          Position side: YES or NO
        </ResponseField>
        <ResponseField name="size" type="int">
          Number of contracts
        </ResponseField>
        <ResponseField name="average_price" type="float">
          Average entry price
        </ResponseField>
        <ResponseField name="current_price" type="float">
          Current market price
        </ResponseField>
        <ResponseField name="pnl" type="float">
          Unrealized profit/loss
        </ResponseField>
      </Expandable>
    </ResponseField>
    <ResponseField name="total_value" type="float">
      Total portfolio value (cash + positions)
    </ResponseField>
  </Expandable>
</ResponseField>

<CodeGroup>

```python Example
portfolio = sdk.get_portfolio()

print(f"Balance: ${portfolio.balance:.2f}")
print(f"Positions: {len(portfolio.positions)}")

for position in portfolio.positions:
    pnl_pct = (position.pnl / (position.size * position.average_price)) * 100
    print(f"{position.ticker}: {position.size} @ ${position.average_price:.2f}")
    print(f"  P&L: ${position.pnl:.2f} ({pnl_pct:+.1f}%)")
```

</CodeGroup>

---

### `cancel_order(order_id)`

Cancels a pending order.

<ParamField path="order_id" type="string" required>
  ID of the order to cancel
</ParamField>

<ResponseField name="success" type="boolean">
  Whether cancellation was successful
</ResponseField>

---

### `get_order_history(params)`

Retrieves historical orders.

<ParamField path="params" type="dict" optional>
  Filter parameters
  
  <Expandable title="parameters">
    <ParamField path="ticker" type="string" optional>
      Filter by market ticker
    </ParamField>
    
    <ParamField path="status" type="string" optional>
      Filter by order status
    </ParamField>
    
    <ParamField path="start_date" type="string" optional>
      Start date (YYYY-MM-DD)
    </ParamField>
    
    <ParamField path="end_date" type="string" optional>
      End date (YYYY-MM-DD)
    </ParamField>
  </Expandable>
</ParamField>

## Class Methods

### `from_env()`

Creates SDK instance from environment variables.

Required environment variables:
- `KALSHI_API_KEY_ID`
- `KALSHI_API_SECRET`
- `KALSHI_ENVIRONMENT` (optional, defaults to "production")

<CodeGroup>

```python Example
# Automatically loads from .env file
sdk = NeuralSDK.from_env()
```

```bash .env
KALSHI_API_KEY_ID=your_key_here
KALSHI_API_SECRET=your_secret_here
KALSHI_ENVIRONMENT=production
```

</CodeGroup>

## Error Handling

The SDK raises specific exceptions for different error scenarios:

<CodeGroup>

```python Error Handling
from neural_sdk.core.exceptions import (
    ConnectionError,
    AuthenticationError,
    ValidationError,
    TradingError
)

try:
    sdk = NeuralSDK.from_env()
    markets = sdk.get_markets()
except AuthenticationError as e:
    print(f"Authentication failed: {e}")
except ConnectionError as e:
    print(f"Connection error: {e}")
except TradingError as e:
    print(f"Trading error: {e}")
```

</CodeGroup>

## Best Practices

<AccordionGroup>
  <Accordion title="Use environment variables for credentials">
    Never hardcode API credentials. Use `.env` files or environment variables:
    ```python
    sdk = NeuralSDK.from_env()  # Recommended
    ```
  </Accordion>
  
  <Accordion title="Handle WebSocket reconnections">
    The SDK automatically handles reconnections, but implement error handlers:
    ```python
    @websocket.on_error
    async def handle_error(error):
        logger.error(f"WebSocket error: {error}")
    ```
  </Accordion>
  
  <Accordion title="Implement rate limiting">
    Respect API rate limits by using the built-in rate limiter:
    ```python
    config = SDKConfig(
        rate_limit=100,  # requests per minute
        auto_retry=True
    )
    ```
  </Accordion>
</AccordionGroup>